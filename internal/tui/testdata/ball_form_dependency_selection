# Test: Dependency selection with pre-selected items
# This tests viewing and modifying pre-selected dependencies

# Initial view - dependency selector with first item selected and cursor on second item
run
----
-- view:
Select Dependencies␤
␤
Space: toggle • Enter: confirm • Esc: cancel␤
␤
  [✓] juggle-1: First pending task␤
 [ ] juggle-2: Second in progress task ␤
  [ ] juggle-3: Third blocked task␤

# Toggle selection on current item (second)
run
key space
----
-- view:
Select Dependencies␤
␤
Space: toggle • Enter: confirm • Esc: cancel␤
␤
  [✓] juggle-1: First pending task␤
 [✓] juggle-2: Second in progress task ␤
  [ ] juggle-3: Third blocked task␤

# Navigate to third item
run
key down
----
-- view:
Select Dependencies␤
␤
Space: toggle • Enter: confirm • Esc: cancel␤
␤
  [✓] juggle-1: First pending task␤
  [✓] juggle-2: Second in progress task␤
 [ ] juggle-3: Third blocked task ␤

# Toggle third item (select it)
run
key space
----
-- view:
Select Dependencies␤
␤
Space: toggle • Enter: confirm • Esc: cancel␤
␤
  [✓] juggle-1: First pending task␤
  [✓] juggle-2: Second in progress task␤
 [✓] juggle-3: Third blocked task ␤

# Navigate up to second item
run
key up
----
-- view:
Select Dependencies␤
␤
Space: toggle • Enter: confirm • Esc: cancel␤
␤
  [✓] juggle-1: First pending task␤
 [✓] juggle-2: Second in progress task ␤
  [✓] juggle-3: Third blocked task␤

# Toggle second item again (deselect)
run
key space
----
-- view:
Select Dependencies␤
␤
Space: toggle • Enter: confirm • Esc: cancel␤
␤
  [✓] juggle-1: First pending task␤
 [ ] juggle-2: Second in progress task ␤
  [✓] juggle-3: Third blocked task␤
